在此之前，我曾写过一篇关于邮件服务提供商安全问题的文章【传送门】，你可以根据我的建议来选择一个比较合适的邮件提供商。但是，如果你已经有自己的邮箱并且使用了很多年的话，你肯定不想换了对吧？
因此，在这篇文章中，我们将告诉大家如何对已有的电子邮箱进行加密。你可以继续使用之前的邮件服务，并根据自己的选择来签名并加密发出的邮件。我们将主要通过两种方法来实现，一个是S/MIME，另一个是PGP。本文将主要介绍如何通过S/MIME来实现邮件的安全加密。
S/MIME是什么？
S/MIME（Secure/MultipurposeInternet Mail Extensions），即安全/多用途网际邮件扩充协议是一种专用于公钥加密和MIME数据签名的标准协议。其中的加密部分是自解释的，邮件内容和附件经过加密之后，只有你自己和邮件接收人可以查看到。而签名是为了让收件人明确得知这封邮件是由你发送的，这样也可以证明当你点击了“发送”按钮之后，这封邮件的内容没有被修改过。
在对邮件签名时，你需要使用到两个加密密钥，即公钥和私钥。私钥只存储在你自己的设备中，公钥会跟随你的邮件一起发送给收件人，其中公钥是用来解密邮件内容的。
准备工作
1. 一个电子邮箱地址 2. 一份S/MIME证书 3. 一台macOS或iOS设备 4. 收件人也配置好了S/MIME
如何获取S/MIME证书
你可以申请免费或付费的S/MIME证书，或者你也可以自己生成一份S/MIME证书。比如说，我的S/MIME证书就是从Comodo获取的。
首先，点击【这里】访问Comodo的官网，然后点击“Free Email Certificate”下方的“Free Download”按钮。网站将需要你填写包括邮件地址、私钥大小以及撤销密码等信息，其中的邮件地址是你需要加密的地址。填写完成之后，你将会收到一封带有证书下载链接的邮件，下载之后，你就会得到一份这样的文件：
千万要备份好这个文件，因为它只有一份！当你使用新的Mac电脑发送或接收加密邮件时，你还需要用到这个证书，如果你不想它落入他人之手，你也可以考虑用加密磁盘来存储它。
如何安装证书
双击.p7s文件之后将会打开系统自带的Keychain Access（钥匙串访问），并询问你是否要安装该证书。我个人直接将证书导入到了系统钥匙串中，并允许所有的用户账号直接使用，但是你也可以自己选择可使用的用户账号。
选择你想要导入证书的钥匙串，然后点击“Add”（添加）按钮，这样便安装完成了。
如何让邮件使用S/MIME证书
在Mail.app中，打开“Preferences”属性设置，然后选择“Accounts”账号标签。接下来，选择你想要使用S/MIME证书的邮件账号，然后进入到“Server Settings”服务器设置界面。取消勾选IMAP和SMTP的"Automatically manage connectionsettings"选项，设置好的界面如下所示：
确保你的账号使用了正确的TLS/SSL端口以及认证方式（设置方法可从相应邮件提供商处获取）。这样可以保证你的macOS跟邮件服务器之间使用的是安全连接，这也是一种保护邮件安全的好方法。
如何使用S/MIME
用绑定了S/MIME证书的邮箱新建一封邮件，输入收件人地址，然后你就会发现“主题”后面多了两个按钮：
只有你跟收件人交换了加密密钥之后，加密功能（锁logo）才可以使用，在此之前你只能使用签名功能。发送之后，收件人收到的邮件如下所示：
邮件内容还没有经过加密，但签名能够表明邮件是从你这里发送过来的，而收件人现在可以对回复邮件进行签名或加密了，因为他已经有你的密钥了（当他收到你这封邮件之后，证书和密钥会自动安装到他们的钥匙串中）
当你收到回复邮件之后，你也就得到了对方的S/MIME证书，所以你现在也可以给他发送加密邮件了。
注意：通信双方必须都配置了S/MIME证书，并且进行过一次密钥交换（双方收发一次邮件）。
如果你的收件人遗失了S/MIME证书以及密钥，那么结果将会是这样：
现在经过加密后的邮件内容已经无法直接查看了，如果你也没有备份证书的话，那邮件内容就永远无法获取了，而且加密后的附件也无法正常打开。
如何在iPhone或iPad上使用S/MIME
首先，你需要将证书从macOS中提取出来，并导出为iOS所支持的证书格式。打开钥匙串访问app，找到你的证书，点击“向下箭头”，你的证书名称就是邮件地址。
选择之后，点击“文件”并选择“导出”。导出名称你可以自行输入，但是导出格式必须是“Personal Information Exchange (.p12)”。
点击“保存”，此时你需要输入一个密码来保护证书的安全，待会儿在iOS设备上你还需要重新输入这个密码。下面是导出后的证书：
你可以利用AirDrop或电子邮件将证书导入到iOS设备中，如果你是用邮件发送的话，可不要加密这封邮件噢，因为你的iOS设备现在还无法读取加密后的邮件内容。接下来，请大家按照下图所示的方法进行证书配置：
可能你已经发现了，在iPhone或iPad上使用S/MIME肯定没有在macOS上用起来方便，但是为了安全起见，一切的“麻烦”都是值得的。
总结
虽然设置起来比较麻烦，但是设置好之后你就可以直接使用而不必再管它们了。当然了，证书过期之后你还需要续订证书，方法步骤跟之前也是一样的。整个配置过程大约需要10分多钟，而这笔“开销”跟邮件安全相比，肯定是不值一提的。
* 参考来源：intego，FB小编Alpha_h4ck编译，转载请注明来自FreeBuf.COM