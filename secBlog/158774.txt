*本文中涉及到的相关漏洞已报送厂商并得到修复，本文仅限技术研究与讨论，严禁用于非法用途，否则产生的一切后果自行承担。
*本文原创作者：時光老人你可不可以走慢點，本文属FreeBuf原创奖励计划，未经许可禁止转载
这一次的上传可算是曲折不已。目标服务器上装有360和云锁防护软件。不过没关系一步步突破拿下的瞬间感觉到了满满的欢喜。话不多说，直接开搞。
一、发现了一个struts2漏洞。直接工具执行命令“whoami”
权限很大administrator权限。感觉还不错哦！
于是首先尝试输入敌人，发现无法显示内容，于是用cmd/c来突破限制，成功显示目录。
继续深入查看盘符内容无法显示，
啊哈无法显示内容，没关系多加一个“\”。成功执行
二、前面只是一些常识的命令。现在直接放大招
上传木马。当然失败了。
因为服务器做了限制不可以写入，但是可以下载。所以直接远程下载。
下载成功！但是并没有看到缓存的文件。瞬间心中万马奔腾好吧。
三、抽根烟冷静一下，想了想服务器肯定装了安全软件
于是查看了下进程。没毛病管理员装了360与云锁防护。难道让我放弃,不存在的！
在服务器上发现了csc.exe(csc.exe是微软.NET Framework 中的C#语言编译器),
四、于是想到了写入下载代码执行下载TeamViewer 软件直接链接服务器
首先说一下这里要下载俩个东西一个是TeamViewer软件。还有一个小程序是获取服务器的TeamViewer 远程连接的地址和密码。
运行teamviewer，查看进程。
获取密码
哈哈。没问题直接连接
.连接成功。然后电脑是黑屏！这个管理员还是厉害啊。不过我喜欢有挑战。
五、突然想起来是否可以通过管理员的身份来登录服务器呢
那么首先就是要获取到服务器的用户名与密码。于是想到了是否可以将服务器的哈希值都dump下来。然后通过 mimikatz.exe。来获取到管理员的用户名与密码。因为服务是Windows2003。所以要在虚拟机中的Windows2003中执行。
首先要将服务器端的哈希密码下载下来。
利用mimikatz获取。利用方法有不懂可以在网上自行百度。有详细的介绍
然后在Windows2003中执行。成功获取到用户名与密码
看到密码的时候，我只想对这个管理员说你厉害，嘿嘿小样。直接远程登录。拿下。
总结
这次拿下服务器的过程有定曲折。但是在碰到问题的过程中我们不断的解决问题是每一名技术爱好者的乐趣。hacker的精神在于分享，希望我这次的过程可以给各位朋友带来不一样的启发。
*本文原创作者：時光老人你可不可以走慢點，本文属FreeBuf原创奖励计划，未经许可禁止转载