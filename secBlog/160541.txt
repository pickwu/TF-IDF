在上期的openvas中，斗哥给大伙儿介绍了安装和基础使用。这周我们将深入openvas，学习openvas的使用。同样的我们还是从创建一个扫描任务开始。
0x01 建立一个扫描目标
新建扫描目标Configuration→Targets→New
Openvas扫描主机时可以手工输入，也可以通过文件导入。有默认配置好的扫描端口列表及存活测试，可根据实际情况下拉选择。
端口扫描列表可以通过星型图标创建自定义端口扫描策略。
同样，通过星型图标可创建登录凭证。 在已知主机账号密码时可以进行登录扫描。
0x02 建立一个新的扫描任务
建立完扫描目标之后，需要建立扫描任务关联扫描目标。
建立扫描任务有两种方式：
① 可以使用任务向导进行任务的创建，任务向导可以快速的建立并开启一个扫描任务；高级任务向导有更详细的选项，如登录凭证之类的信息；修改任务向导可以快速的选择之前创建的任务重新创建任务开启扫描。任务向导中没有填写的选项都按照设置（Extras→My Settings）的默认配置进行扫描任务配置。
② 可以通过星型图标新建任务创建扫描任务，内容较详细。
填写的内容可以根据实际的情况适当的增减，不需要都填写。
0x03 自定义扫描策略
Openvas默认有配置好的扫描策略，如下图所示。
Discover：只对目标系统进行发现扫描。
Empty：空策略，不进行任何操作。
Full and fast：使用全部NVTs并根据扫描前收集的信息进行优化。
Full and fast ulitimate：使用全部NVTs（包括一些可以停止服务或主机的）并根据扫描前收集的信息进行优化。
Full and very deep: 使用全部NVTs但不信任之前收集的信息，较慢。
Full and very deep ultimate：使用全部NVTs（包括一些可以停止服务或主机的）但不信任之前收集的信息，较慢。
Host Discovery：主机发现
System Discovery：系统识别
有时候我们可以根据扫描的目标自定义扫描策略。点击configuration→scan configs→星型图标新建。
填写扫描策略的名字及备注以及选择基于图片中的两种情况进行增删NVTs。
选择好NVTs后保存为新的扫描策略。每一个family代表一种漏洞类型，该类型下会集成多个NVTS。Family旁有斜着(Grow)和横(Static)着的两种箭头，选择Grow意味着当openvas官方发布该Family下新的NVTS时，策略会自动添加新的NVTS，然而选择Static时openvas发布新的NVTS，则不会被添加的策略里面。
配置完后会在scan configs下多一个新建的扫描策略，在建立扫描任务时，选择该扫描策略就会使用该扫描策略进行扫描。
0x04 设置定时扫描
当我们需要每天都对系统进行扫描时，OpenVas同样可以帮忙。Openvas可以设置定时扫描任务。点击Configuration→Schedules→星型按钮新建。
新建之后，填写以下内容进行配置。
完成之后在新建扫描任务的时候需要选择该schedule，在任务套用schedule后启动按钮会变成时钟，此后该任务就会开启定时扫描。